Урок react-redux.

В данном уроке будем разбирать компонент Provider и функцию connect из библиотеки react-redux.
Для понимания того это устроено необходимо знать как работает React.Context, и HOC, это не тема данного урока, подробней можно прочитать про них здесь: [React.Context](https://ru.reactjs.org/docs/context.html) и [HOC](https://ru.reactjs.org/docs/higher-order-components.html).

1. Компонент Provider принимает в props инициализированный Redux store, все для чего он нужен это передать данный store в React.Context, что бы функции connect была возможность получить доступ к данному стору.

2. Функция connect соеденяет React компонент с Redux store, предоставляет компонент подключенный к стору, а так же данные необходимые данному компоненту данные из стора, и функции для диспатча экшнов.

    Структура вызова следующая: `function connect(mapStateToProps, mapDispatchToProps)`

    1) mapStateToProps - метод который в параметре принимает состояние всего приложения, а возвращает только те данные которые необходимы данному компоненту. Если данный метод передан, функция connect подпишется на обновления стора, и каждый раз когда стор будет обновлен, она будет вызываться, результат вызова этой функции, будет передан в подключенный компонент.

    ```
    const mapStateToProps = (state) => ({
        user: state.user,
        todo: state.todo
    })
    ```

    2) mapDispatchToProps - метод который в параметре принимает dispatch функцию, возвращает объект с функциями для изменения стора.
        Далее функция возвращает HOC, который принимает наш компонент, производит подписку на изменения стейта, отписку в случае если компонент будет уничтожен, а так же передает в props компонента, результаты методов mapStateToProps & mapDispatchToProps. 

    ```
    const mapDispatchToProps = (dispatch) => ({
        login: (username, password) => dispatch(userLoginAction(username, passwrod)),
        logout: () => dispatch(userLogoutAction())
    })

    const connectedComponent = connect(mapStateToProps, mapDispatchToProps)(myComponent);
    ```

    В реальной реализации react-redux этот параметр может быть объектом, функции автоматически обернутся в dispatch

    ```
    const mapDispatchToProps = {
        login: userLoginAction,
        logout: userLogoutAction
    }
    ```

    Обратите внимание, что функция connect возвращает HOC, а не сама им является, принимает она функции для взаимодействия с Redux.

    Для чего нам нужен connect? Нам нужно, что бы наш компонент обновлялся автоматически, когда происходят изменения в store, значит connect должен делать следующее:
        а) Подписываться на изменения стора, и обновлять дочерний компонент когда это необходимо
        б) Отписываться, когда компонент уничтожается, и больше не нуждается в обновлениях
        в) Если мы подпишемся на изменение стора, то наш компонент будет обновляться на любое изменение стора, connect должен обновлять компонент, только если изменилась необходимая ему часть стора

